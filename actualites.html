<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actualités - DTM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script> tailwind.config = {theme: {extend: {colors: {dtm: {light: '#e0f2fe', primary: '#0284c7', dark: '#0c4a6e'}}}}} </script>
    <style>
        body {
            background-image: url('https://images.unsplash.com/photo-1638202993928-7267aad84c31?q=80&w=1920');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
        }

        .glass-overlay {
            background-color: rgba(255, 255, 255, 0.95);
            min-height: 100vh;
        }

        .fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>
    <div class="glass-overlay">
        <nav class="fixed w-full z-50 top-0 start-0 bg-white/95 backdrop-blur-md border-b shadow-sm">
            <div class="max-w-screen-xl flex items-center justify-between mx-auto px-4 py-2">
                <a href="index.html" class="flex items-center space-x-3 group">
                    <img src="logo.png" class="h-20 w-auto transition-transform group-hover:scale-105" alt="DTM Logo"
                        onerror="this.src='https://cdn-icons-png.flaticon.com/512/1034/1034179.png'">
                    <span class="self-center text-xl font-bold text-dtm-dark hidden sm:block">DTM UGB</span>
                </a>
                <a href="index.html" class="text-dtm-primary font-bold hover:underline">Retour</a>
            </div>
        </nav>

        <div class="pt-32 pb-12 px-4 max-w-screen-xl mx-auto fade-in">
            <h2 class="text-3xl font-bold text-dtm-dark mb-10 text-center border-b pb-4">Fil d'actualités</h2>
            <div id="newsContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
            <div id="noNews" class="hidden text-center text-gray-500 py-10">Aucune actualité publiée.</div>
        </div>
    </div>

    <script>
        const news = JSON.parse(localStorage.getItem('dtm_news')) || [];
        const container = document.getElementById('newsContainer');

        if (news.length === 0) {
            document.getElementById('noNews').classList.remove('hidden');
        } else {
            news.forEach(item => {
                container.innerHTML += `
                    <div class="bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-300 group">
                        <div class="h-56 overflow-hidden relative">
                            <img src="${item.image}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                            <div class="absolute top-3 right-3 bg-dtm-primary text-white text-xs font-bold px-3 py-1 rounded-full shadow">${item.tag}</div>
                        </div>
                        <div class="p-6">
                            <div class="text-xs text-gray-400 mb-2"><i class="fa-regular fa-calendar mr-1"></i> ${item.date}</div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">${item.title}</h3>
                            <p class="text-gray-600 text-sm line-clamp-3">${item.desc}</p>
                        </div>
                    </div>
                `;
            });
        }
    </script>
</body>

</html>